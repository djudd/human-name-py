sudo: false
language: python
python:
  - "2.7"
  - "3.4"
  - "3.5"

os:
  - linux
#  - osx

dist: trusty

before_install:
  - if [ ! -e "$HOME/.cargo/bin" ]; then curl https://sh.rustup.rs -sSf | sh -s -- --default-toolchain nightly -y; fi
  - export PATH="$HOME/.cargo/bin:$PATH"
  - rustup default nightly
  - pushd $HOME
  - git clone https://github.com/djudd/human-name
  - pushd human-name && cargo rustc --release --lib -- -C link-args=-dynamic_lookup && popd
  - popd
  - cp $HOME/human-name/target/release/libhuman_name.* humanname/

install: pip install tox-travis

script: tox
